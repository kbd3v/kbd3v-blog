---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE } from '../consts';

const projects = [
	{
		client: "Bane NOR",
		roles: ["Senior Technical Architect", "Infrastructure Engineer", "Delivery Manager"],
		period: "02.2024 – 10.2025",
		description: "Designed hybrid cloud architecture using Microsoft CAF. Led Azure platform development, managed subscription migrations to landing zone architecture, and implemented governance with Azure Policies and Defender for Cloud.",
		technologies: ["Azure", "Terraform", "Entra ID", "Azure DevOps", "GitLab"],
		type: "public"
	},
	{
		client: "Statkraft",
		roles: ["DevOps Engineer"],
		period: "10.2023 – 01.2024",
		description: "Built CI/CD pipelines for a new data platform enabling cross-geography data sharing. Developed automation for DataBricks, Data Factory, and access control with Azure AD.",
		technologies: ["Terraform", "Azure DevOps", "DataBricks", "Data Factory"],
		type: "enterprise"
	},
	{
		client: "Santander Consumer Bank",
		roles: ["Platform Engineer (CCoE)"],
		period: "10.2022 – 09.2023",
		description: "Part of Cloud Center of Excellence developing Azure infrastructure. Designed Terraform modules, implemented network segmentation, and established documentation and governance standards.",
		technologies: ["Terraform", "Azure DevOps", "Azure Networking", "CI/CD"],
		type: "finance"
	},
	{
		client: "Brønnøysundregistrene",
		roles: ["Tech Lead"],
		period: "09.2021 – 06.2022",
		description: "Led infrastructure team for the Altinn 2.0 platform. Responsible for operations, development, and technical strategy. Implemented DevOps practices and managed hybrid infrastructure.",
		technologies: ["Azure", "Terraform", "Azure DevOps", "CAF", "WAF"],
		type: "public"
	},
	{
		client: "Norsk Helsenett",
		roles: ["DevOps Engineer"],
		period: "05.2021 – 08.2021",
		description: "Developed Terraform code for the Health Analytics Platform (HAP). Built infrastructure across four security zones with focus on privacy, GDPR compliance, and monitoring.",
		technologies: ["Terraform", "Azure DevOps", "GitHub", "Key Vault", "Service Bus"],
		type: "healthcare"
	},
	{
		client: "Ironstone",
		roles: ["Cloud Administrator"],
		period: "04.2020 – 11.2020",
		description: "Azure platform operations and 3rd line support. Process development, customer solution analysis, and technical advisory. Participated in Microsoft partnership campaigns.",
		technologies: ["Azure", "Microsoft 365", "PowerShell"],
		type: "msp"
	},
	{
		client: "Optimera",
		roles: ["Application Manager", "Operations Lead", "MS SQL DBA"],
		period: "05.2018 – 03.2020",
		description: "Managed operations and applications including Windows server migrations, ERP onboarding improvements, and SQL platform optimization. Bridged IT and business through multiple project groups.",
		technologies: ["MS SQL", "Windows Server", "PowerShell", "ERP"],
		type: "enterprise"
	},
	{
		client: "StrongPoint",
		roles: ["Technical Product Specialist", "Technical Support"],
		period: "11.2015 – 02.2018",
		description: "Customer adaptations and technical support for retail products. Project participation, installations, and application operations. Documentation, training, and product improvement proposals.",
		technologies: ["Retail Systems", "Technical Support", "Documentation"],
		type: "retail"
	},
	{
		client: "KLP",
		roles: ["Support"],
		period: "01.2015 – 06.2015",
		description: "Mobile telephony, onboarding, and internal system support. Access management and device configuration for new employees.",
		technologies: ["Mobile Device Management", "Access Control"],
		type: "finance"
	},
	{
		client: "Digitale Gardermoen",
		roles: ["1st & 2nd Line Technician"],
		period: "01.2013 – 12.2014",
		description: "Full operations and support for inter-municipal IT including networks, servers, and applications. Promoted to 2nd line, working with AD, GPO, SCCM, and PowerShell.",
		technologies: ["Active Directory", "GPO", "SCCM", "PowerShell", "Networking"],
		type: "public"
	}
];

const typeColors: Record<string, string> = {
	public: "#22c55e",
	finance: "#3b82f6",
	healthcare: "#ec4899",
	enterprise: "#f59e0b",
	msp: "#8b5cf6",
	retail: "#06b6d4"
};
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Projects - ${SITE_TITLE}`} description="Professional project history - 13 years of IT infrastructure, cloud architecture, and DevOps experience" />
		<style define:vars={{ }}>
			main {
				width: 100%;
				max-width: 800px;
				margin: 0 auto;
				padding: 2rem 1rem;
			}

			.page-header {
				margin-bottom: 3rem;
			}

			.page-header h1 {
				font-size: 2.5rem;
				margin-bottom: 0.5rem;
			}

			.page-header p {
				color: var(--color-text-muted);
				font-size: 1.1rem;
				max-width: 600px;
			}

			.timeline {
				position: relative;
				padding-left: 2rem;
			}

			.timeline::before {
				content: '';
				position: absolute;
				left: 0;
				top: 0;
				bottom: 0;
				width: 2px;
				background: var(--color-border);
			}

			.project {
				position: relative;
				margin-bottom: 2.5rem;
				padding-bottom: 2.5rem;
				border-bottom: 1px solid var(--color-border);
			}

			.project:last-child {
				border-bottom: none;
				margin-bottom: 0;
				padding-bottom: 0;
			}

			.project::before {
				content: '';
				position: absolute;
				left: -2rem;
				top: 0.5rem;
				width: 12px;
				height: 12px;
				border-radius: 50%;
				background: var(--dot-color, var(--color-accent));
				border: 2px solid var(--color-bg);
				transform: translateX(-5px);
			}

			.project-header {
				display: flex;
				justify-content: space-between;
				align-items: flex-start;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-bottom: 0.75rem;
			}

			.client-name {
				font-size: 1.25rem;
				font-weight: 700;
				color: var(--color-text-main);
				margin: 0;
			}

			.period {
				font-size: 0.85rem;
				color: var(--color-text-muted);
				white-space: nowrap;
			}

			.roles {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-bottom: 0.75rem;
			}

			.role {
				font-size: 0.8rem;
				padding: 0.25rem 0.6rem;
				background: var(--color-bg-alt);
				border: 1px solid var(--color-border);
				border-radius: 4px;
				color: var(--color-accent);
				font-weight: 500;
			}

			.description {
				color: var(--color-text-muted);
				line-height: 1.6;
				margin-bottom: 1rem;
				font-size: 0.95rem;
			}

			.technologies {
				display: flex;
				flex-wrap: wrap;
				gap: 0.4rem;
			}

			.tech {
				font-size: 0.75rem;
				padding: 0.2rem 0.5rem;
				background: var(--color-bg-alt);
				border-radius: 3px;
				color: var(--color-text-muted);
			}

			.legend {
				display: flex;
				flex-wrap: wrap;
				gap: 1rem;
				margin-bottom: 2rem;
				padding: 1rem;
				background: var(--color-bg-alt);
				border-radius: 8px;
				font-size: 0.8rem;
			}

			.legend-item {
				display: flex;
				align-items: center;
				gap: 0.4rem;
				color: var(--color-text-muted);
			}

			.legend-dot {
				width: 10px;
				height: 10px;
				border-radius: 50%;
			}

			@media (max-width: 600px) {
				.page-header h1 {
					font-size: 1.75rem;
				}

				.page-header p {
					font-size: 1rem;
				}

				.timeline {
					padding-left: 1.5rem;
				}

				.project::before {
					left: -1.5rem;
					width: 10px;
					height: 10px;
				}

				.project-header {
					flex-direction: column;
				}

				.client-name {
					font-size: 1.1rem;
				}

				.description {
					font-size: 0.9rem;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<div class="page-header">
				<h1>Projects</h1>
				<p>13 years of building, operating, and leading IT infrastructure across public sector, finance, healthcare, and enterprise.</p>
			</div>

			<div class="legend">
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.public}`}></span>
					<span>Public Sector</span>
				</div>
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.finance}`}></span>
					<span>Finance</span>
				</div>
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.healthcare}`}></span>
					<span>Healthcare</span>
				</div>
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.enterprise}`}></span>
					<span>Enterprise</span>
				</div>
			</div>

			<div class="timeline">
				{projects.map((project) => (
					<div class="project" style={`--dot-color: ${typeColors[project.type]}`}>
						<div class="project-header">
							<h2 class="client-name">{project.client}</h2>
							<span class="period">{project.period}</span>
						</div>
						<div class="roles">
							{project.roles.map((role) => (
								<span class="role">{role}</span>
							))}
						</div>
						<p class="description">{project.description}</p>
						<div class="technologies">
							{project.technologies.map((tech) => (
								<span class="tech">{tech}</span>
							))}
						</div>
					</div>
				))}
			</div>
		</main>
		<Footer />
	</body>
</html>
